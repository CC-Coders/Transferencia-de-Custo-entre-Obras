<html>

<head>
	<!-- jQuery -->
	<script type="text/javascript"
		src="http://desenvolvimento.castilho.com.br:3232/portal/resources/js/jquery/jquery.js"></script>
	<script type="text/javascript"
		src="http://desenvolvimento.castilho.com.br:3232/portal/resources/js/jquery/jquery-ui.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.14.1/jquery-ui.min.js"
		integrity="sha512-MSOo1aY+3pXCOCdGAYoBZ6YGI0aragoQsg1mKKBHXCYPIWxamwOE7Drh+N5CPgGI5SA9IEKJiPjdfqWFWmZtRA=="
		crossorigin="anonymous" referrerpolicy="no-referrer"></script>
	<script src="jquery.maskMoney.js" type="text/javascript"></script>

	<!-- Fluig -->
	<link type="text/css" rel="stylesheet"
		href="http://fluig.castilho.com.br:1010/style-guide/css/fluig-style-guide.min.css" />
	<script type="text/javascript" src="http://fluig.castilho.com.br:1010/style-guide/js/fluig-style-guide.min.js"
		charset="utf-8"></script>
	<script type="text/javascript" src="http://desenvolvimento.castilho.com.br:3232/webdesk/vcXMLRPC.js"></script>


	<!-- Docxtemplater -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/docxtemplater/3.65.2/docxtemplater.js"></script>
    <script src="https://unpkg.com/pizzip@3.2.0/dist/pizzip.js"></script>
    <script src="https://unpkg.com/pizzip@3.2.0/dist/pizzip-utils.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/1.3.8/FileSaver.js"></script>

	<!-- Mustache -->
	<script type="text/javascript"
		src="http://desenvolvimento.castilho.com.br:3232/portal/resources/js/mustache/mustache-min.js"></script>

	<!-- Castilho Dev Guide -->
	<link rel="stylesheet"
		href="http://desenvolvimento.castilho.com.br:3232/castilho_dev_guide/resources/css/castilho-cards.css">
	<link rel="stylesheet"
		href="http://desenvolvimento.castilho.com.br:3232/castilho_dev_guide/resources/css/castilho-tables.css">
	<link rel="stylesheet"
		href="http://desenvolvimento.castilho.com.br:3232/castilho_dev_guide/resources/css/castilho_dev_guide.css">

	<script
		src="http://desenvolvimento.castilho.com.br:3232/castilho_dev_guide/resources/js/castilho-consultas-rm.js"></script>
	<script
		src="http://desenvolvimento.castilho.com.br:3232/castilho_dev_guide/resources/js/castilho-utils.js"></script>


	<!-- selectize -->
	<link rel="stylesheet"
		href="https://cdnjs.cloudflare.com/ajax/libs/selectize.js/0.15.2/css/selectize.default.min.css"
		integrity="sha512-pTaEn+6gF1IeWv3W1+7X7eM60TFu/agjgoHmYhAfLEU8Phuf6JKiiE8YmsNC0aCgQv4192s4Vai8YZ6VNM6vyQ=="
		crossorigin="anonymous" referrerpolicy="no-referrer" />
	<script src="https://cdnjs.cloudflare.com/ajax/libs/selectize.js/0.15.2/js/selectize.min.js"
		integrity="sha512-IOebNkvA/HZjMM7MxL0NYeLYEalloZ8ckak+NDtOViP7oiYzG5vn6WVXyrJDiJPhl4yRdmNAG49iuLmhkUdVsQ=="
		crossorigin="anonymous" referrerpolicy="no-referrer"></script>

	<!-- Formulario -->
	<link rel="stylesheet" href="style.css">
	<script src="function.js"></script>
	<script src="exportResumo.js"></script>
	<script src="script.js"></script>
</head>

<body class="bg-castilho" style="margin: 0px;">
	<div class="fluig-style-guide">
		<form name="form" role="form">
			<div style="display: none;">
				<input type="hidden" name="userCode" id="userCode">
				<input type="hidden" name="numProces" id="numProces">
				<input type="hidden" name="atividade" id="atividade">
				<input type="hidden" name="formMode" id="formMode">
				<input type="hidden" name="isMobile" id="isMobile">


				<input type="hidden" name="dateSolicitacao" id="dateSolicitacao">
				<input type="hidden" name="CODCOLIGADA" id="CODCOLIGADA">
				<input type="hidden" name="ID_TRANSFERENCIAS_DE_CUSTO" id="ID_TRANSFERENCIAS_DE_CUSTO">

				<input type="hidden" name="TRANSFERE_CUSTO" id="TRANSFERE_CUSTO">
				<input type="hidden" name="TRANSFERE_RECEITA" id="TRANSFERE_RECEITA">

				<input type="hidden" name="CODCOLIGADA_ORIGEM" id="CODCOLIGADA_ORIGEM">
				<input type="hidden" name="CODCCUSTO_ORIGEM" id="CODCCUSTO_ORIGEM">
				
				<input type="hidden" name="CODCOLIGADA_DESTINO" id="CODCOLIGADA_DESTINO">
				<input type="hidden" name="CODCCUSTO_DESTINO" id="CODCCUSTO_DESTINO">

				<input type="hidden" name="IDMOV_ORIGEM" id="IDMOV_ORIGEM">
				<input type="hidden" name="IDMOV_DESTINO" id="IDMOV_DESTINO">
				<input type="hidden" name="valorTotal" id="valorTotal">


				<!-- Aprovacoes -->
				<input type="hidden" name="aprovadoEngenheiroObraOrigem" id="aprovadoEngenheiroObraOrigem">
				<input type="hidden" name="aprovadoCoordenadorObraOrigem" id="aprovadoCoordenadorObraOrigem">
				<input type="hidden" name="aprovadoDiretorObraOrigem" id="aprovadoDiretorObraOrigem">

				<input type="hidden" name="aprovadoEngenheiroObraDestino" id="aprovadoEngenheiroObraDestino">
				<input type="hidden" name="aprovadoCoordenadorObraDestino" id="aprovadoCoordenadorObraDestino">
				<input type="hidden" name="aprovadoDiretorObraDestino" id="aprovadoDiretorObraDestino">

				<input type="hidden" name="usuarioAprovadorOrigem" id="usuarioAprovadorOrigem">
				<input type="hidden" name="usuarioAprovadorDestino" id="usuarioAprovadorDestino">

				<input type="hidden" name="aprovadoObraDestino" id="aprovadoObraDestino">
				<input type="hidden" name="aprovadoObraOrigem" id="aprovadoObraOrigem">

				<input type="hidden" name="decisao" id="decisao">
				<input type="hidden" name="decisaoAprovadorObraOrigem" id="decisaoAprovadorObraOrigem">
				<input type="hidden" name="decisaoAprovadorObraDestino" id="decisaoAprovadorObraDestino">
			</div>


			<header id="header" style="display: none;">
				<h1>TRANSFERÊNCIA DE CUSTO ENTRE OBRAS</h1>
			</header>
			<main style="padding: 20px; display: none;" id="main">
				<div class="row" id="divCabecalhoSolicitacao">
					<div class="col-md-6">
					</div>
					<div class="col-md-2">
						<label for="">Solicitante:</label>
						<input name="solicitante" id="solicitante" class="form-control" readonly />
						<br>
					</div>
					<div class="col-md-2">
						<label for="">Solicitação:</label>
						<input name="solicitacao" id="solicitacao" class="form-control" readonly />
						<br>
					</div>
					<div class="col-md-2">
						<label for="">Data Solicitação:</label>
						<input name="dataSolicitacao" id="dataSolicitacao" class="form-control" readonly />
						<br>
					</div>

				</div>
				<div id="divObrasTransferencia" class="row flexRow">
					<div class="col-md-5" >
						<div class="panel panel-castilho-primary">
							<div class="panel-heading">
								<h3 class="panel-title" style="display: flex;justify-content: space-between;">
									<div>
										OBRA ORIGEM 
										<i class="flaticon flaticon-trending-up icon-md iconStonks" id="iconObraOrigem" aria-hidden="true"></i>
									</div>
									<div id="spanIDMOV_ORIGEM"></div>
								</h3>
							</div>
							<div class="panel-body">
								<div class="row">
									<div class="col-md-8">
										<label for="ccustoObraOrigem">Centro de Custo:</label>
										<select name="ccustoObraOrigem" id="ccustoObraOrigem"
											autocomplete="off"></select>
									</div>
									<div class="col-md-4">
										<label for="valorObraOrigem">Valor:</label>
										<input name="valorObraOrigem" id="valorObraOrigem" class="form-control"
											style="color: green !important;" readonly inert />
									</div>
								</div>
								<br>
								<div class="row">
									<div class="col-md-4">
										<label for="">Engenheiro:</label>
										<input type="text" name="engenheiroObraOrigem" id="engenheiroObraOrigem"
											class="form-control" readonly inert>
									</div>
									<div class="col-md-4">
										<label for="">Coordenador:</label>
										<input type="text" name="coordenadorObraOrigem" id="coordenadorObraOrigem"
											class="form-control" readonly inert>
									</div>
									<div class="col-md-4">
										<label for="">Diretor:</label>
										<input type="text" name="diretorObraOrigem" id="diretorObraOrigem"
											class="form-control" readonly inert>
									</div>
								</div>
								<br>
								<div class="row" style="display: none;">
									<div class="col-md-12">
										<label for="departamentoObraOrigem">Departamento</label>
										<select name="departamentoObraOrigem" id="departamentoObraOrigem"
											autocomplete="off"></select>
									</div>
								</div>
							</div>
						</div>
					</div>
					<div class="col-md-2 column">
						<div style="height: 100%;display: flex;align-items: center;justify-content: center;flex-direction: column;">
							<h1 style="margin-bottom: 0px;margin-top: 0px;" id="titleTipoTransferencia"></h1>
							<i class="fluigicon fluigicon-arrow-right icon-thumbnail-lg" aria-hidden="true"></i>
						</div>
					</div>
					<div class="col-md-5">
						<div class="panel panel-castilho-primary">
							<div class="panel-heading">
								<h3 class="panel-title" style="display: flex;justify-content: space-between;">
									<div>
										OBRA DESTINO 
										<i class="flaticon flaticon-trending-up icon-md iconNotStonks" id="iconObraDestino" aria-hidden="true"></i>
									</div>
									<div id="spanIDMOV_DESTINO"></div>
								</h3>
							</div>
							<div class="panel-body">
								<div class="row">
									<div class="col-md-8">
										<label for="ccustoObraDestino">Centro de Custo:</label>
										<select name="ccustoObraDestino" id="ccustoObraDestino"
											autocomplete="off"></select>
									</div>
									<div class="col-md-4">
										<label for="valorObraDestino">Valor:</label>
										<input name="valorObraDestino" id="valorObraDestino" class="form-control"
											style="color: red !important;" readonly inert />
									</div>
								</div>
								<br>
								<div class="row">
									<div class="col-md-4">
										<label for="engenheiroObraDestino">Engenheiro:</label>
										<input type="text" name="engenheiroObraDestino" id="engenheiroObraDestino"
											class="form-control" readonly inert>
									</div>
									<div class="col-md-4">
										<label for="coordenadorObraDestino">Coordenador:</label>
										<input type="text" name="coordenadorObraDestino" id="coordenadorObraDestino"
											class="form-control" readonly inert>
									</div>
									<div class="col-md-4">
										<label for="diretorObraDestino">Diretor:</label>
										<input type="text" name="diretorObraDestino" id="diretorObraDestino"
											class="form-control" readonly inert>
									</div>
								</div>
								<br>
								<div class="row" style="display: none;">
									<div class="col-md-12">
										<label for="departamentoObraDestino">Departamento</label>
										<select name="departamentoObraDestino" id="departamentoObraDestino"
											autocomplete="off"></select>
									</div>
								</div>
							</div>
						</div>
					</div>
					<br>
				</div>
				<div id="divTransferencias">
					<div class="panel panel-castilho-primary" id="divPanelTransfenrecias">
						<div class="panel-heading">
							<h3 class="panel-title">TRANSFERÊNCIAS</h3>
						</div>
						<div class="panel-body" style="padding: 0;">
							<table class="table" id="tableTransferencias" tablename="tableTransferencias"
								noaddbutton="true" nodeletebutton="true" style="margin-bottom: 0px;">
								<thead style="display: none;">
									<tr>
										<td></td>
									</tr>
								</thead>
								<tbody>
									<tr>
										<td style="padding: 0px; border: solid 1px black;">
											<div class="panel panel-default panelTransferencia" style="margin-bottom: 0px;">
												<div class="panel-heading">
													<h3 class="panel-title">
														<span>
															<i class="flaticon flaticon-chevron-down icon-md iconarrow"
																aria-hidden="true"></i>
															<span class="spanTipoTransferencia"></span>
														</span>
														<span>
															<span class="spanValorTransferencia">R$ 0,00</span>
															<button class="btn btn-danger btnRemoverTransferencia" style="margin-left: 20px;" onclick="fnWdkRemoveChild(this)">
																<i class="flaticon flaticon-trash icon-md" aria-hidden="true"></i>
															</button>
														</span>
													</h3>
												</div>
												<div class="panel-body">
													<input type="hidden" name="listItensTransferencia"
														id="listItensTransferencia" class="listItensTransferencia">
													<div class="row">
														<div class="col-md-6">
															<label for="">Tipo de Transferência:</label>
															<select name="motivoTransferencia" id="motivoTransferencia"
																class="form-control motivoTransferencia">
																<option value=""></option>
																<optgroup label="Transferências de Custo">
																	<option value="Equipamento">Equipamento</option>
																	<option value="Mão de Obra">Mão de Obra</option>
																	<option value="Prestação de Serviço">Prestação de Serviço </option>
																	<option value="Insumos">Insumos</option>
																</optgroup>
																<optgroup label="Transferências de Receita">
																	<option value="Receita">Receita</option>
																</optgroup>
													
															</select>
															<br>
														</div>
														<div class="col-md-4">
															<label for="">Valor Total:</label>
															<input type="text" name="valorTotalTransferencia"
																id="valorTotalTransferencia"
																class="form-control valorTotalTransferencia" readonly>
															<br>
														</div>
													</div>
													<div class="divTabelaItens">
													</div>
													<br>
													<div class="">
														<label for="">Justificativa:</label>
														<textarea name="textMotivoTransferencia"
															id="textMotivoTransferencia"
															class="form-control textMotivoTransferencia"
															rows="4"></textarea>
														<br>
													</div>
												</div>
											</div>
										</td>
									</tr>
								</tbody>
							</table>
						</div>
					</div>
					<div id="divPanelTransfenreciasMobile" style="display: none;">

					</div>

				</div>
				<div class="alignCenter">
					<button class="btn btn-primary" id="btnAdicionarTransferencia">Adicionar Transferência</button>
				</div>

				<div id="divDownloadResumo" style="display: none; text-align: center;">
					<button class="btn btn-success" id="btnDownloadResumo">Download Resumo</button>
				</div>

				<br>
				<div id="divHistorico" style="display: none;">
					<div class="panel panel-castilho-primary">
						<div class="panel-heading">
							<h3 class="panel-title">
								HISTÓRICO
							</h3>
						</div>
						<div class="panel-body">
							<div id="divOpcoesAprovacao" style="display: none;">
								<div class="row">
									<div class="col-md-3 col-xs-12"></div>

									<div class="col-md-3 col-xs-6">
										<button class="btn btn-success btn-block" id="btnAprovar">Aprovar</button>
									</div>
									<div class="col-md-3 col-xs-6">
										<button class="btn btn-danger btn-block" id="btnReprovar">Reprovar</button>
									</div>
								</div>
							</div>
							<div class="row" id="divObservacaoAprovacao" style="display: none;">
								<div class="col-md-12">
									<label for="">Observação:</label>
									<textarea name="textObservacao" id="textObservacao" class="form-control"
										rows="4"></textarea>
								</div>
							</div>
							<br>
							<div id="divLinhasHistorico">

							</div>
							<div style="display: none;">
								<!-- Table hidden para guardar as movimentacoes da Solicitação -->
								<table id="tableHistorico" tablename="tableHistorico">
									<thead>
										<tr>
											<th>ID</th>
											<th>Data</th>
											<th>Usuario</th>
											<th>Movimentacao</th>
											<th>Observacao</th>
										</tr>
									</thead>
									<tbody>
										<tr>
											<td>
												<input type="hidden" name="idLinha" id="idLinha" class="idLinha">
											</td>
											<td>
												<input type="hidden" name="dataMovimento" id="dataMovimento"
													class="dataMovimento">
											</td>
											<td>
												<input type="hidden" name="usuario" id="usuario" class="usuario">
											</td>
											<td>
												<input type="hidden" name="movimentacao" id="movimentacao"
													class="movimentacao">
											</td>
											<td>
												<input type="hidden" name="observacao" id="observacao"
													class="observacao">
											</td>
										</tr>
									</tbody>
								</table>
							</div>
						</div>
					</div>
				</div>

			</main>
			<footer id="footer" style="display: none;">
				<div>
					CONSTRUTORA CASTILHO
				</div>
			</footer>
		</form>
	</div>
</body>

</html>